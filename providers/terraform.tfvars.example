# AWS Bastion Infrastructure - Terraform Variables
# Copy to providers/terraform.tfvars and edit as needed:
#   cp providers/terraform.tfvars.example providers/terraform.tfvars

# ============================================================================
# REQUIRED VARIABLES
# ============================================================================

# AWS Region
# Available regions: us-east-1, eu-west-1, eu-north-1, ap-southeast-1, etc.
region = "eu-north-1"

# Resource naming prefix (used for all AWS resource tags)
name_prefix = "tf-demo"

# Admin workstation IP for SSH access to bastion (REQUIRED)
# Find your public IP: curl -s https://api.ipify.org
# SECURITY: Only this IP will be allowed to SSH to the bastion host
admin_ip_cidr = "YOUR.IP.ADDRESS/32"  # ⚠️ CHANGE THIS TO YOUR IP

# ============================================================================
# OPTIONAL VARIABLES (uncomment to override defaults)
# ============================================================================

# Network Configuration
# -------------------------------------------
# vpc_cidr              = "10.22.0.0/16"     # VPC CIDR block
# public_subnet_cidr    = "10.22.5.0/24"    # Public subnet (bastion)
# private_subnet_cidr   = "10.22.6.0/24"    # Private subnet (workloads)
# availability_zone     = "eu-north-1a"     # AWS AZ for subnets

# SSH Key Configuration
# -------------------------------------------
# ssh_public_key_path   = "~/.ssh/id_ed25519.pub"  # Path to SSH public key
# NOTE: Generate key with: ./scripts/setup_ssh_key.sh

# Instance Configuration
# -------------------------------------------
# bastion_instance_type = "t3.micro"  # Bastion host instance type
# private_instance_type = "t3.micro"  # Private instance type

# ============================================================================
# NOTES
# ============================================================================
#
# 1. Credentials:
#    - Set AWS credentials via AWS_PROFILE or environment variables
#    - NEVER hardcode access keys in .tf files
#
# 2. SSH Keys:
#    - Generate with: ./scripts/setup_ssh_key.sh
#    - Keys are stored locally, NOT managed by Terraform
#    - Remove with: ./scripts/cleanup_ssh_key.sh
#
# 3. Network Design:
#    - Public subnet: Bastion host with Elastic IP
#    - Private subnet: Workload instances (no public IPs)
#    - Bastion provides NAT for private instances using nftables
#
# 4. Security:
#    - Bastion SSH restricted to admin_ip_cidr
#    - Private instances accessible only from bastion
#    - All internet traffic from private subnet routes through bastion NAT
#
# 5. Deployment:
#    - terraform -chdir=providers init
#    - terraform -chdir=providers apply
#    - terraform -chdir=providers destroy
#
# 6. Connection:
#    - Bastion: ./scripts/connect_bastion.sh
#    - Private: ./scripts/connect_private.sh
#
